{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\barot\\\\Documents\\\\GitHub\\\\BookSTack\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\barot\\\\Documents\\\\GitHub\\\\BookSTack\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\barot\\\\Documents\\\\GitHub\\\\BookSTack\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\barot\\\\Documents\\\\GitHub\\\\BookSTack\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\barot\\\\Documents\\\\GitHub\\\\BookSTack\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\barot\\\\Documents\\\\GitHub\\\\BookSTack\\\\src\\\\components\\\\auth\\\\form.js\";\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport firebase from \"firebase\"; //auth\n\nvar config = {\n  apiKey: \"AIzaSyBdD-dZnTara6z3jjKOENeqWQJz8Lk53jQ\",\n  authDomain: \"fir-auth-b1ee0.firebaseapp.com\"\n};\nfirebase.initializeApp(config);\n\nvar Form =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Form, _React$Component);\n\n  function Form() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Form)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isSignedIn: false,\n      modal: \"login\",\n      confirmDirty: false,\n      autoCompleteResult: [],\n      dismiss: \"none\",\n      LoginerrorMessage: \" \",\n      SignuperrorMessage: \" \"\n    };\n\n    _this.handleSubmitLogin = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, values) {\n        if (!err) {\n          firebase.auth().signInWithEmailAndPassword(values.userName, values.password).then(function (user) {\n            var data = user.user;\n\n            _this.setState({\n              isSignedIn: true,\n              LoginerrorMessage: \" \"\n            });\n\n            return _this.props.setStates(data);\n          }).catch(function (error) {\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(errorMessage);\n\n            _this.setState({\n              LoginerrorMessage: \"Sorryy! gievn email or password didnt match ,try forgot password if you need help resetting\"\n            });\n          });\n        }\n      });\n    };\n\n    _this.handleSubmitSignup = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFieldsAndScroll(function (err, values) {\n        if (!err) {\n          var promise = new Promise(function (resolve, reject) {\n            return resolve(firebase.auth().createUserWithEmailAndPassword(values.email, values.password));\n          });\n          promise.then(function (user) {\n            user.user.updateProfile({\n              displayName: values.nickname,\n              photoURL: \"https://cdn.dribbble.com/users/199982/screenshots/4044699/furkan-avatar-dribbble.png\"\n            }).then(function () {// Update successful.\n            }).catch(function (error) {// An error happened.\n            });\n\n            _this.setState({\n              SignuperrorMessage: \" \",\n              modal: \"login\"\n            });\n          }).catch(function (error) {\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n\n            _this.setState({\n              SignuperrorMessage: errorMessage\n            });\n          });\n        }\n      });\n    };\n\n    _this.compareToFirstPassword = function (rule, value, callback) {\n      var form = _this.props.form;\n\n      if (value && value !== form.getFieldValue('password')) {\n        callback('Two passwords that you enter is inconsistent!');\n      } else {\n        callback();\n      }\n    };\n\n    _this.validateToNextPassword = function (rule, value, callback) {\n      var form = _this.props.form;\n\n      if (value && _this.state.confirmDirty) {\n        form.validateFields(['confirm'], {\n          force: true\n        });\n      }\n\n      callback();\n    };\n\n    _this.displaySignup = function () {\n      return _this.setState({\n        modal: \"signup\"\n      });\n    };\n\n    _this.displayLogin = function () {\n      return _this.setState({\n        modal: \"login\"\n      });\n    };\n\n    _this.handleClickOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Dialog, {\n        open: this.state.open,\n        onClose: this.handleClose,\n        \"aria-labelledby\": \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"form-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Subscribe\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"To subscribe to this website, please enter your email address here. We will send updates occasionally.\"), React.createElement(TextField, {\n        autoFocus: true,\n        margin: \"dense\",\n        id: \"name\",\n        label: \"Email Address\",\n        type: \"email\",\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      })), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleClose,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(Button, {\n        onClick: this.handleClose,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Subscribe\"))));\n    }\n  }]);\n\n  return Form;\n}(React.Component);\n\nexport { Form as default };","map":{"version":3,"sources":["C:\\Users\\barot\\Documents\\GitHub\\BookSTack\\src\\components\\auth\\form.js"],"names":["React","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","firebase","config","apiKey","authDomain","initializeApp","Form","state","isSignedIn","modal","confirmDirty","autoCompleteResult","dismiss","LoginerrorMessage","SignuperrorMessage","handleSubmitLogin","e","preventDefault","props","form","validateFields","err","values","auth","signInWithEmailAndPassword","userName","password","then","user","data","setState","setStates","catch","error","errorCode","code","errorMessage","message","console","log","handleSubmitSignup","validateFieldsAndScroll","promise","Promise","resolve","reject","createUserWithEmailAndPassword","email","updateProfile","displayName","nickname","photoURL","compareToFirstPassword","rule","value","callback","getFieldValue","validateToNextPassword","force","displaySignup","displayLogin","handleClickOpen","open","handleClose","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport firebase from \"firebase\"\r\n\r\n//auth\r\nvar config = {\r\n apiKey: \"AIzaSyBdD-dZnTara6z3jjKOENeqWQJz8Lk53jQ\",\r\n authDomain: \"fir-auth-b1ee0.firebaseapp.com\",\r\n};\r\nfirebase.initializeApp(config);\r\n\r\nexport default class Form extends React.Component {\r\n  state = {\r\n    isSignedIn: false,\r\n    modal:\"login\",\r\n    confirmDirty: false,\r\n    autoCompleteResult: [],\r\n    dismiss:\"none\",\r\n    LoginerrorMessage:\" \",\r\n    SignuperrorMessage:\" \"\r\n  }\r\n\r\n  handleSubmitLogin = (e) => {\r\n    e.preventDefault();\r\n          this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n\r\n              firebase.auth().signInWithEmailAndPassword(values.userName, values.password)\r\n              .then(user=>{let data=user.user\r\n                 this.setState({isSignedIn:true,\r\n                                LoginerrorMessage:\" \"\r\n                                })\r\n               return this.props.setStates(data) })\r\n              .catch(error=> {\r\n                // Handle Errors here.\r\n                var errorCode = error.code;\r\n                var errorMessage = error.message;\r\n                console.log(errorMessage);\r\n                this.setState({\r\n                  LoginerrorMessage:\"Sorryy! gievn email or password didnt match ,try forgot password if you need help resetting\"\r\n                });\r\n\r\n              });\r\n            }\r\n          });\r\n\r\n\r\n        }\r\n  handleSubmitSignup = (e) => {\r\n    e.preventDefault();\r\n    this.props.form.validateFieldsAndScroll((err, values) => {\r\n      if (!err) {\r\n\r\n      var promise= new Promise((resolve,reject)=>resolve(firebase.auth().createUserWithEmailAndPassword(values.email, values.password)))\r\n      promise.then(user=>{\r\n            user.user.updateProfile({\r\n              displayName: values.nickname,\r\n                photoURL: \"https://cdn.dribbble.com/users/199982/screenshots/4044699/furkan-avatar-dribbble.png\"\r\n            }).then(function() {\r\n              // Update successful.\r\n            }).catch(function(error) {\r\n              // An error happened.\r\n            });\r\n            this.setState({\r\n                          SignuperrorMessage:\" \",\r\n                          modal:\"login\",\r\n                        })}  )\r\n      .catch(error=> {\r\n        // Handle Errors here.\r\n        var errorCode = error.code;\r\n        var errorMessage = error.message;\r\n        this.setState({\r\n          SignuperrorMessage:errorMessage\r\n        });\r\n\r\n      });\r\n\r\n\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n    compareToFirstPassword = (rule, value, callback) => {\r\n      const form = this.props.form;\r\n      if (value && value !== form.getFieldValue('password')) {\r\n        callback('Two passwords that you enter is inconsistent!');\r\n      } else {\r\n        callback();\r\n      }\r\n    }\r\n\r\n    validateToNextPassword = (rule, value, callback) => {\r\n      const form = this.props.form;\r\n      if (value && this.state.confirmDirty) {\r\n        form.validateFields(['confirm'], { force: true });\r\n      }\r\n      callback();\r\n    }\r\n\r\n    displaySignup = ()=>{\r\n      return this.setState({modal:\"signup\"})\r\n    }\r\n    displayLogin = ()=>{\r\n      return this.setState({modal:\"login\"})\r\n    }\r\n\r\n\r\n  handleClickOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">Subscribe</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              To subscribe to this website, please enter your email address here. We will send\r\n              updates occasionally.\r\n            </DialogContentText>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"Email Address\"\r\n              type=\"email\"\r\n              fullWidth\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Subscribe\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}